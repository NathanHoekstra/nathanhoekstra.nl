---
---

<div id="utterances-container" class="mt-2">
</div>

<script>
  import { UTTERANCES } from "@/config";

  const script = document.createElement("script");
  const container = document.querySelector("#utterances-container");
  const currentTheme = localStorage.getItem("theme");

  // Set configurations
  Object.entries({
    src: "https://utteranc.es/client.js",
    repo: UTTERANCES.repo,
    "issue-term": UTTERANCES.term,
    label: UTTERANCES.label,
    theme: currentTheme == "light" ? "github-light" : "github-dark",
    crossorigin: "anonymous",
  }).forEach(([key, value]) => {
    script.setAttribute(key, value);
  });

  {
    UTTERANCES.enable
      ? container?.appendChild(script)
      : container?.classList.toggle("hidden");
  }
</script>
